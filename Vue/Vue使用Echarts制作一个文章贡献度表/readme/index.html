<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>我的技术博客</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="使用SpringBoot&#43;Vue&#43;Echarts制作一个文章贡献度表 前言 最近想给博客做一个类似于码云代码提交记录的图表，就类似于下面这样的
然后将每天的博客提交的博客生成对应的记录，下面先看最终的结果图
有点不一样的地方是，这里使用圆圈的大小，来表示提交的次数
制作博客贡献表 这个博客贡献表是使用了ECharts中的 calendar-effectscatter 组件：点我传送
首先附上完整的vue代码：
&lt;template&gt;  &lt;div id=&#34;container&#34; style=&#34; width: 100%; height: 300px;&#34;&gt;&lt;/div&gt; &lt;/template&gt;  &lt;script&gt;  import { getBlogContributeCount } from &#34;@/api/index&#34;;  import echarts from &#34;echarts&#34;;   export default {  mounted() {  this.initDate();  },  data() {  return {  contributeDate: [],  blogContributeCount: [],  }  },  created() {   },  methods: {  initDate: function() {   getBlogContributeCount().">
    <meta name="generator" content="Hugo 0.97.3" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="" />
<meta property="og:description" content="使用SpringBoot&#43;Vue&#43;Echarts制作一个文章贡献度表 前言 最近想给博客做一个类似于码云代码提交记录的图表，就类似于下面这样的
然后将每天的博客提交的博客生成对应的记录，下面先看最终的结果图
有点不一样的地方是，这里使用圆圈的大小，来表示提交的次数
制作博客贡献表 这个博客贡献表是使用了ECharts中的 calendar-effectscatter 组件：点我传送
首先附上完整的vue代码：
&lt;template&gt;  &lt;div id=&#34;container&#34; style=&#34; width: 100%; height: 300px;&#34;&gt;&lt;/div&gt; &lt;/template&gt;  &lt;script&gt;  import { getBlogContributeCount } from &#34;@/api/index&#34;;  import echarts from &#34;echarts&#34;;   export default {  mounted() {  this.initDate();  },  data() {  return {  contributeDate: [],  blogContributeCount: [],  }  },  created() {   },  methods: {  initDate: function() {   getBlogContributeCount()." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/vue/vue%E4%BD%BF%E7%94%A8echarts%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E6%96%87%E7%AB%A0%E8%B4%A1%E7%8C%AE%E5%BA%A6%E8%A1%A8/readme/" /><meta property="article:section" content="Vue" />



<meta itemprop="name" content="">
<meta itemprop="description" content="使用SpringBoot&#43;Vue&#43;Echarts制作一个文章贡献度表 前言 最近想给博客做一个类似于码云代码提交记录的图表，就类似于下面这样的
然后将每天的博客提交的博客生成对应的记录，下面先看最终的结果图
有点不一样的地方是，这里使用圆圈的大小，来表示提交的次数
制作博客贡献表 这个博客贡献表是使用了ECharts中的 calendar-effectscatter 组件：点我传送
首先附上完整的vue代码：
&lt;template&gt;  &lt;div id=&#34;container&#34; style=&#34; width: 100%; height: 300px;&#34;&gt;&lt;/div&gt; &lt;/template&gt;  &lt;script&gt;  import { getBlogContributeCount } from &#34;@/api/index&#34;;  import echarts from &#34;echarts&#34;;   export default {  mounted() {  this.initDate();  },  data() {  return {  contributeDate: [],  blogContributeCount: [],  }  },  created() {   },  methods: {  initDate: function() {   getBlogContributeCount().">

<meta itemprop="wordCount" content="478">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="使用SpringBoot&#43;Vue&#43;Echarts制作一个文章贡献度表 前言 最近想给博客做一个类似于码云代码提交记录的图表，就类似于下面这样的
然后将每天的博客提交的博客生成对应的记录，下面先看最终的结果图
有点不一样的地方是，这里使用圆圈的大小，来表示提交的次数
制作博客贡献表 这个博客贡献表是使用了ECharts中的 calendar-effectscatter 组件：点我传送
首先附上完整的vue代码：
&lt;template&gt;  &lt;div id=&#34;container&#34; style=&#34; width: 100%; height: 300px;&#34;&gt;&lt;/div&gt; &lt;/template&gt;  &lt;script&gt;  import { getBlogContributeCount } from &#34;@/api/index&#34;;  import echarts from &#34;echarts&#34;;   export default {  mounted() {  this.initDate();  },  data() {  return {  contributeDate: [],  blogContributeCount: [],  }  },  created() {   },  methods: {  initDate: function() {   getBlogContributeCount()."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        我的技术博客
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        VUES
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1"></h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id="使用springbootvueecharts制作一个文章贡献度表">使用SpringBoot+Vue+Echarts制作一个文章贡献度表</h1>
<h2 id="前言">前言</h2>
<p>最近想给博客做一个类似于码云代码提交记录的图表，就类似于下面这样的</p>
<p><img src="./images/image-20191225144436770.png" alt="image-20191225144436770"></p>
<p>然后将每天的博客提交的博客生成对应的记录，下面先看最终的结果图</p>
<p><img src="./images/image-20191225213702433.png" alt="image-20191225213702433"></p>
<p>有点不一样的地方是，这里使用圆圈的大小，来表示提交的次数</p>
<h2 id="制作博客贡献表">制作博客贡献表</h2>
<p>这个博客贡献表是使用了ECharts中的 calendar-effectscatter 组件：<a href="https://www.echartsjs.com/examples/en/editor.html?c=calendar-effectscatter">点我传送</a></p>
<p><img src="./images/image-20191225214915704.png" alt="image-20191225214915704"></p>
<p>首先附上完整的vue代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34; width: 100%; height: 300px;&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">getBlogContributeCount</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@/api/index&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">echarts</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;echarts&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mounted</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">initDate</span>();
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">contributeDate</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">blogContributeCount</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">created</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">initDate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">getBlogContributeCount</span>().<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;我来啦&#34;</span>, <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">blogContributeCount</span>);
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">code</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;success&#34;</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">contributeDate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">contributeDate</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">blogContributeCount</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">blogContributeCount</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">chart</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">echarts</span>.<span style="color:#a6e22e">init</span>(document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;container&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">option</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>              <span style="color:#75715e">//设置背景
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#75715e">// backgroundColor: &#39;#d0d0d0&#39;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;文章贡献度&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">subtext</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;一年内博客提交的数量&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">textStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#000&#39;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>              },
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">tooltip</span> <span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">trigger</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;item&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">formatter</span><span style="color:#f92672">:</span><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">params</span>){
</span></span><span style="display:flex;"><span>                  <span style="color:#66d9ef">return</span> (<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span>  <span style="color:#e6db74">&#39;&lt;br&gt;文章数：&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>              },
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">legend</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;30&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;100&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span>[<span style="color:#e6db74">&#39;文章数&#39;</span>, <span style="color:#e6db74">&#39;Top 12&#39;</span>],
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">textStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#75715e">// 设置字体颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#000&#39;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>              },
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">calendar</span><span style="color:#f92672">:</span> [{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;center&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">range</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;2018-12-25&#39;</span>, <span style="color:#e6db74">&#39;2019-12-25&#39;</span>],
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">splitLine</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">show</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">lineStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// 设置月份分割线的颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#D3D3D3&#39;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;solid&#39;</span>
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">yearLabel</span><span style="color:#f92672">:</span> {<span style="color:#a6e22e">show</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>},
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">dayLabel</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">nameMap</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;周一&#34;</span>,<span style="color:#e6db74">&#34;周二&#34;</span>,<span style="color:#e6db74">&#34;周三&#34;</span>,<span style="color:#e6db74">&#34;周四&#34;</span>,<span style="color:#e6db74">&#34;周五&#34;</span>,<span style="color:#e6db74">&#34;周六&#34;</span>,<span style="color:#e6db74">&#34;周日&#34;</span>], <span style="color:#75715e">// 设置中文显示
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">textStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// 设置周显示颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#000&#39;</span>
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">monthLabel</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">nameMap</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;cn&#39;</span>, <span style="color:#75715e">// 设置中文显示
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">textStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// 设置月显示颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#000&#39;</span>
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">itemStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">normal</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// 设置背景颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#ffffff&#39;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">borderWidth</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// 设置方块分割线段颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">borderColor</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#D3D3D3&#39;</span>
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>              }],
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">series</span> <span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;文章数&#39;</span>,
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;scatter&#39;</span>,
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">coordinateSystem</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;calendar&#39;</span>,
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">blogContributeCount</span>,
</span></span><span style="display:flex;"><span>                  <span style="color:#75715e">// 根据值设置原点大小
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">symbolSize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">val</span>) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">val</span>[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>                      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">val</span>[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">size</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">val</span>[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>                      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">size</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">18</span>) {
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">size</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>                      }
</span></span><span style="display:flex;"><span>                      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">size</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                  },
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">itemStyle</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">normal</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                      <span style="color:#75715e">// 设置圆点颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                      <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#2ec7c9&#39;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>              ]
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">chart</span>.<span style="color:#a6e22e">setOption</span>(<span style="color:#a6e22e">option</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><p>首先我们需要的是对博客表进行操作，我们需要统计按日期统计每天的贡献度</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">DISTINCT</span> DATE_FORMAT(create_time, <span style="color:#e6db74">&#39;%Y-%m-%d&#39;</span>) DATE, <span style="color:#66d9ef">COUNT</span>(uid) <span style="color:#66d9ef">COUNT</span> <span style="color:#66d9ef">FROM</span> t_blog <span style="color:#66d9ef">WHERE</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> STATUS <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> create_time <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#34;2018-12-24 02:28:04&#34;</span> <span style="color:#f92672">&amp;&amp;</span> create_time <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;2019-12-24 02:28:04&#34;</span> <span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> DATE_FORMAT(create_time, <span style="color:#e6db74">&#39;%Y-%m-%d&#39;</span>)
</span></span></code></pre></div><p>执行完成后得到的结果如下：</p>
<p><img src="./images/image-20191225215238967.png" alt="image-20191225215238967"></p>
<p>将统计出每天的文章数，通过上面我们能够看到，里面的日期不是连续的，所以我们还需要编写代码针对那些没有记录的日期，初始化贡献度为0。</p>
<p>我们首先需要写一个方法，用来得到指定时间段内的全部日期</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 获取某个时间段内所有日期
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param begin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param end
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getDayBetweenDates</span><span style="color:#f92672">(</span>String begin<span style="color:#f92672">,</span> String end<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        Date dBegin <span style="color:#f92672">=</span> strToDateTime<span style="color:#f92672">(</span>begin<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        Date dEnd <span style="color:#f92672">=</span> strToDateTime<span style="color:#f92672">(</span>end<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lDate <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;();</span>
</span></span><span style="display:flex;"><span>        SimpleDateFormat sd <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleDateFormat<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;yyyy-MM-dd&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        lDate<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>sd<span style="color:#f92672">.</span><span style="color:#a6e22e">format</span><span style="color:#f92672">(</span>dBegin<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        Calendar calBegin <span style="color:#f92672">=</span> Calendar<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 使用给定的 Date 设置此 Calendar 的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        calBegin<span style="color:#f92672">.</span><span style="color:#a6e22e">setTime</span><span style="color:#f92672">(</span>dBegin<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        Calendar calEnd <span style="color:#f92672">=</span> Calendar<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 使用给定的 Date 设置此 Calendar 的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        calEnd<span style="color:#f92672">.</span><span style="color:#a6e22e">setTime</span><span style="color:#f92672">(</span>dEnd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 测试此日期是否在指定日期之后
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>dEnd<span style="color:#f92672">.</span><span style="color:#a6e22e">after</span><span style="color:#f92672">(</span>calBegin<span style="color:#f92672">.</span><span style="color:#a6e22e">getTime</span><span style="color:#f92672">()))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 根据日历的规则，为给定的日历字段添加或减去指定的时间量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            calBegin<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>Calendar<span style="color:#f92672">.</span><span style="color:#a6e22e">DAY_OF_MONTH</span><span style="color:#f92672">,</span> 1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            lDate<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>sd<span style="color:#f92672">.</span><span style="color:#a6e22e">format</span><span style="color:#f92672">(</span>calBegin<span style="color:#f92672">.</span><span style="color:#a6e22e">getTime</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lDate<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>然后在通过将我们SQL查询出来的进行对比，如果该日期内有记录的话，就赋值成对应的贡献度，代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getBlogContributeCount</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 获取今天结束时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        String endTime <span style="color:#f92672">=</span> DateUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">getNowTime</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 获取365天前的日期
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Date temp <span style="color:#f92672">=</span> DateUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">getDate</span><span style="color:#f92672">(</span>endTime<span style="color:#f92672">,</span> <span style="color:#f92672">-</span>365<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String startTime <span style="color:#f92672">=</span> DateUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">dateTimeToStr</span><span style="color:#f92672">(</span>temp<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;&gt;</span> blogContributeMap <span style="color:#f92672">=</span> blogMapper<span style="color:#f92672">.</span><span style="color:#a6e22e">getBlogContributeCount</span><span style="color:#f92672">(</span>startTime<span style="color:#f92672">,</span> endTime<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> dateList <span style="color:#f92672">=</span> DateUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">getDayBetweenDates</span><span style="color:#f92672">(</span>startTime<span style="color:#f92672">,</span> endTime<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;</span> dateMap <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;</span> itemMap <span style="color:#f92672">:</span> blogContributeMap<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            dateMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>itemMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;DATE&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(),</span> itemMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;COUNT&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>Object<span style="color:#f92672">&gt;&gt;</span> resultList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>String item <span style="color:#f92672">:</span> dateList<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            Integer count <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>dateMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>item<span style="color:#f92672">)</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                count <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>dateMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>item<span style="color:#f92672">).</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            List<span style="color:#f92672">&lt;</span>Object<span style="color:#f92672">&gt;</span> objectList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>            objectList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>item<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            objectList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>count<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            resultList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>objectList<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;</span> resultMap <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> contributeDateList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        contributeDateList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>startTime<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        contributeDateList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>endTime<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        resultMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;contributeDate&#34;</span><span style="color:#f92672">,</span> contributeDateList<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        resultMap<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;blogContributeCount&#34;</span><span style="color:#f92672">,</span> resultList<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> resultMap<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>最终我们将得到的数据进行渲染，就得到最开始的贡献表了~</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://example.org/" >
    &copy;  我的技术博客 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
